<h3>絞り込み結果</h3>

<% if @range == "Ink" %>
    <div class="search_form">
        <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.text_field :word %>
        <%= hidden_field_tag :range, 'Ink' %>
        <%= hidden_field_tag :search, 'partial_match' %>
        <%= f.submit "検索", class: "btn btn-success" %>
        <% end %>
    </div>
    <% if @inks.present? %>
        <%= link_to '新規', new_ink_path, class: 'btn btn-primary new-btn' %>

        <table>
            <thead>
                <tr>
                <th>インク名</th>
                <th>色</th>
                <th colspan="3"></th>
                </tr>
            </thead>

            <tbody>
                <% @inks.each do |ink| %>
                <tr>
                    <td><%= ink.name %></td>
                    <td><%= ink.color_type %></td>
                    <td><%= link_to '詳細', ink %></td>
                    <td><%= link_to '編集', edit_ink_path(ink) %></td>
                    <td><%= link_to '削除', ink, method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
    <p class="not_find">該当するものはありませんでした。</p>
    <% end %>
<% elsif @range == "Location" %>
<div class="search_form">
    <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.text_field :word %>
        <%= hidden_field_tag :range, 'Location' %>
        <%= hidden_field_tag :search, 'partial_match' %>
        <%= f.submit "絞り込み", class: "btn btn-success" %>
    <% end %>
</div>
    <% if @locations.present? %>
        <%= link_to '新規', new_location_path, class: 'btn btn-primary new-btn' %>

        <table>
            <thead>
                <tr>
                <th>ロケーション名</th>
                <th>段</th>
                <th>インク名</th>
                <th colspan="3"></th>
                </tr>
            </thead>

            <tbody>
                <% @locations.each do |location| %>
                <tr>
                    <td><%= location.name %></td>
                    <td><%= location.stage %></td>
                    <td><%= location.ink_name %></td>
                    <td><%= link_to '詳細', location %></td>
                    <td><%= link_to '編集', edit_location_path(location) %></td>
                    <td><%= link_to '削除', location, method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
    <p class="not_find">該当するものはありませんでした。</p>
    <% end %>
<% elsif @range == "Order" %>
    <div class="search_form">
    <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.text_field :word %>
        <%= hidden_field_tag :range, 'Order' %>
        <%= hidden_field_tag :search, 'partial_match' %>
        <%= f.submit "絞り込み", class: "btn btn-success" %>
    <% end %>
</div>
    <% if @orders.present? %>
        <%= link_to '新規注文', new_order_path, class: 'btn btn-primary new-btn' %>

        <table>
            <thead>
                <tr>
                <th>インク名</th>
                <th>注文個数</th>
                <th>注文日</th>
                <th colspan="2"></th>
                </tr>
            </thead>

            <tbody>
                <% @orders.each do |order| %>
                <tr>
                    <td><%= order.ink_name %></td>
                    <td class="quantity"><%= order.order_quantity %></td>
                    <td><%= order.order_date %></td>
                    <td><%= link_to '詳細', order %></td>
                    <td><%= link_to '削除', order, method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
    <p class="not_find">該当するものはありませんでした。</p>
    <% end %>
<% elsif @range == "Stock" %>
    <div class="search_form">
    <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.text_field :word %>
        <%= hidden_field_tag :range, 'Stock' %>
        <%= hidden_field_tag :search, 'partial_match' %>
        <%= f.submit "絞り込み", class: "btn btn-success" %>
    <% end %>
</div>
    <% if @stocks.present? %>
        <%= link_to '新規', new_stock_path, class: 'btn btn-primary new-btn' %>

        <table>
            <thead>
                <tr>
                <th>インク名</th>
                <th>色</th>
                <th>ロケーション</th>
                <th>段</th>
                <th>在庫数</th>
                <th>管理者</th>
                <th colspan="4"></th>
                </tr>
            </thead>

            <tbody>
                <% @stocks.each do |stock| %>
                <% @ink_name = stock.ink_name %>
                <tr>
                    <td><%= stock.ink_name %></td>
                    <td><%= stock.color_type %></td>
                    <td><%= stock.location_name %></td>
                    <td><%= stock.stage %></td>
                    <td class="quantity"><%= stock.quantity %></td>
                    <td><%= stock.user.name %></td>
                    <td><%= link_to '注文', new_order_path(ink_name: @ink_name) %></td>
                    <td><%= link_to '編集', edit_stock_path(stock) %></td>
                    <td><%= link_to '詳細', stock %></td>
                    <td><%= link_to '削除', stock, method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
    <p class="not_find">該当するものはありませんでした。</p>
    <% end %>
<% elsif @range == "Supplier" %>
    <div class="search_form">
    <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.text_field :word %>
        <%= hidden_field_tag :range, 'Supplier' %>
        <%= hidden_field_tag :search, 'partial_match' %>
        <%= f.submit "絞り込み", class: "btn btn-success" %>
    <% end %>
</div>
    <% if @suppliers.present? %>
        <%= link_to '新規', new_supplier_path, class: 'btn btn-primary new-btn' %>

        <table>
            <thead>
                <tr>
                <th>仕入れ先名</th>
                <th>メールアドレス</th>
                <th colspan="3"></th>
                </tr>
            </thead>

            <tbody>
                <% @suppliers.each do |supplier| %>
                <tr>
                    <td><%= supplier.name %></td>
                    <td><%= supplier.email %></td>
                    <td><%= link_to '詳細', supplier %></td>
                    <td><%= link_to '編集', edit_supplier_path(supplier) %></td>
                    <td><%= link_to '削除', supplier, method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
    <p class="not_find">該当するものはありませんでした。</p>
    <% end %>
<% else %>
    <div class="search_form">
    <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.text_field :word %>
        <%= hidden_field_tag :range, 'User' %>
        <%= hidden_field_tag :search, 'partial_match' %>
        <%= f.submit "絞り込み", class: "btn btn-success" %>
    <% end %>
</div>
    <% if @users.present? %>
        <%= link_to '新規', new_user_path, class: 'btn btn-primary new-btn' %>

        <table>
            <thead>
                <tr>
                <th>管理者</th>
                <th colspan="3"></th>
                </tr>
            </thead>

            <tbody>
                <% @users.each do |user| %>
                <tr>
                    <td><%= user.name %></td>
                    <td><%= link_to '詳細', user %></td>
                    <td><%= link_to '編集', edit_user_path(user) %></td>
                    <td><%= link_to '削除', user, method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
    <p class="not_find">該当するものはありませんでした。</p>
    <% end %>
<% end %>